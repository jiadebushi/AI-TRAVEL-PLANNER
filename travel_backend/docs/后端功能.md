# 🚀 AI 智能旅行规划项目 - Python 后端功能列表

本项目旨在构建一个基于 AI 的旅行规划平台，核心技术栈为 Python 后端，并利用 LLM、科大讯飞和地图 API 实现智能规划。

## 一、用户认证与管理 (基于 Supabase / Firebase Authentication)

| 序号 | 模块 | 功能描述 | 依赖服务/技术 |
| :--- | :--- | :--- | :--- |
| **1.1** | **注册/登录** | 用户通过邮箱/密码、社交媒体等方式进行注册和登录，获取并管理用户 Token。 | Supabase Auth / Firebase Auth |
| **1.2** | **Token 验证** | 每次受保护的 API 调用都需要验证用户身份和权限。 | JWT (JSON Web Token), Supabase/Firebase SDK |
| **1.3** | **用户资料管理** | 存储和更新用户的基本信息、旅行偏好等。 | Supabase DB / Firestore |

## 二、语音处理与文本解析 (基于 科大讯飞 & LLM)

| 序号 | 模块 | 功能描述 | 依赖服务/技术 |
| :--- | :--- | :--- | :--- |
| **2.1** | **语音识别 API 接入** | 接收前端上传的音频文件或音频流，调用**科大讯飞语音识别 API**，将其转换为结构化文本。 | 科大讯飞 WebAPI, Python SDK/Requests |
| **2.2** | **旅行意图解析** | 接收文本或语音转换后的文本，通过 **大语言模型 (LLM)** 提取关键旅行要素：**目的地、日期、预算、人数、偏好**等，并以 JSON 格式返回。 | LLM API |

## 三、智能行程规划 (基于 LLM 核心决策 & 地图数据)

| 序号 | 模块 | 功能描述 | 依赖服务/技术 |
| :--- | :--- | :--- | :--- |
| **3.1** | **POI (兴趣点) 检索** | 根据目的地和旅行偏好，调用**高德/百度地图 API** 进行 POI 搜索，获取潜在景点、餐厅、住宿的**名称和地理坐标 (经纬度)**。 | 高德/百度 POI 搜索 API |
| **3.2** | **行程核心生成与决策 (LLM)** | 将用户需求、POI 列表、天数等作为 Prompt 输入给 **LLM**，LLM 负责生成：<br>* **详细行程规划**：每日主题、景点/餐厅/住宿的**选择和顺序**。<br>* **最佳交通方式决策**：推荐步行、地铁/公交、打车/私家车等交通方式。 | LLM API |
| **3.3** | **交通耗时预估** | 针对 LLM 推荐的每日行程点和交通方式，调用**高德/百度地图路线规划 API**，精确查询两点间的距离和**预估耗时**。 | 高德/百度 路线规划/距离测量 API |
| **3.4** | **行程数据存储** | 将生成的详细、结构化的旅行路线（包含地理坐标、LLM 决策的交通方式、地图预估的耗时、预算估算）存储到数据库。 | Supabase DB / Firestore |

## 四、费用预算与管理 (基于 LLM & 数据库)

| 序号 | 模块 | 功能描述 | 依赖服务/技术 |
| :--- | :--- | :--- | :--- |
| **4.1** | **行程预算估算** | **LLM** 根据目的地、天数、偏好等信息，结合行程数据，**估算**总预算和各项开支的细分（如住宿、餐饮、交通等）。 | LLM API |
| **4.2** | **实时开销记录 (含语音)** | 接收用户（通过语音或文字）录入的实际开支，通过 **LLM** 进行分类、结构化，并记录到数据库。 | LLM API, Supabase DB / Firestore |
| **4.3** | **预算对比分析** | 查询并计算实际开销与预估预算的差异，生成报告数据。 | Supabase DB / Firestore |

## 五、数据同步与持久化

| 序号 | 模块 | 功能描述 | 依赖服务/技术 |
| :--- | :--- | :--- | :--- |
| **5.1** | **行程列表获取** | 获取当前用户保存的所有旅行计划概要。 | Supabase DB / Firestore |
| **5.2** | **行程详情 CRUD** | 允许用户查看、创建、修改和删除特定旅行计划。 | Supabase DB / Firestore |
| **5.3** | **数据同步 API** | 提供 API 接口，确保用户的行程计划、偏好设置、费用记录在多设备间实时同步。 | Supabase Realtime / Firestore 实时同步功能 |